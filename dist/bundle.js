(()=>{"use strict";const e=function(e){var t=e.timing,n=e.draw,r=e.duration,o=performance.now();requestAnimationFrame((function e(a){var i=(a-o)/r;i>1&&(i=1);var c=t(i);n(c),i<1&&requestAnimationFrame(e)}))};function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__",r=document.querySelectorAll(e);function o(e){var n=e.keyCode,r=t,o=r.replace(/\D/g,""),a=this.value.replace(/\D/g,""),i=0,c=r.replace(/[_\d]/g,(function(e){return i<a.length?a.charAt(i++)||o.charAt(i):e}));-1!=(i=c.indexOf("_"))&&(c=c.slice(0,i));var u=r.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(u=new RegExp("^"+u+"$")).test(this.value)||this.value.length<5||n>47&&n<58)&&(this.value=c),"blur"==e.type&&this.value.length<5&&(this.value="")}var a,i=n(r);try{for(i.s();!(a=i.n()).done;){var c=a.value;c.addEventListener("input",o),c.addEventListener("focus",o),c.addEventListener("blur",o)}}catch(e){i.e(e)}finally{i.f()}}o("селектор элементов","маска, если маску не передать то будет работать стандартная +7 (___) ___-__-__");const a=o;var i,c,u,l,s,d,v,f,m;(function(e){var t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),r=document.querySelector("#timer-seconds");function o(){var t=(new Date(e).getTime()-(new Date).getTime())/1e3,n=Math.floor(t%60),r=Math.floor(t/60%60);return{timeRemaining:t,hours:Math.floor(t/60/60),minutes:r,seconds:n}}function a(){var e=o();t.textContent=e.hours,n.textContent=e.minutes,r.textContent=e.seconds,e.hours<10&&(t.textContent="0"+e.hours),e.minutes<10&&(n.textContent="0"+e.minutes),e.seconds<10&&(r.textContent="0"+e.seconds),e.timeRemaining>0&&setTimeout(a,1e3)}o().timeRemaining>0?(a(),setInterval(a,1e3)):(clearInterval(2),t.textContent="00",n.textContent="00",r.textContent="00")})("23 feb 2021"),f=document.querySelector("menu"),m=document.querySelector(".close-btn"),document.addEventListener("click",(function(e){var t=e.target;t===m||t.closest(".active-menu ul")||t.closest(".menu")?f.classList.toggle("active-menu"):t!==f&&f.classList.remove("active-menu")})),function(){var t=document.querySelector(".popup");document.querySelectorAll(".popup-btn").forEach((function(n){n.addEventListener("click",(function(){t.style.display="block",window.innerWidth>768&&(e({duration:500,timing:function(e){return e},draw:function(e){t.style.opacity=e}}),t.style.visibility="visible")}))}));var n=function(){window.innerWidth>768?(window.setTimeout((function(){return t.style.visibility="hidden"}),500),e({duration:500,timing:function(e){return e},draw:function(e){t.style.opacity=1-e}})):t.style.display="none"};t.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?n():(t=t.closest(".popup-content"))||n()}))}(),function(){var e,n=function(e,n){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw i}}}}(document.querySelectorAll('a[href*="#"'));try{var r=function(){var t=e.value;t.href.split("#")[1].length>0&&t.addEventListener("click",(function(e){e.preventDefault();var n=t.getAttribute("href"),r=document.querySelector(n);if(r){var o=r.offsetTop;window.scrollTo({top:o,behavior:"smooth"})}}))};for(n.s();!(e=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}}(),s=document.querySelector(".service-header"),d=s.querySelectorAll(".service-header-tab"),v=document.querySelectorAll(".service-tab"),s.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&d.forEach((function(e,n){e===t&&function(e){for(var t=0;t<v.length;t++)e===t?(d[t].classList.add("active"),v[t].classList.remove("d-none")):(d[t].classList.remove("active"),v[t].classList.add("d-none"))}(n)}))})),function(){var e,t,n=document.querySelectorAll(".portfolio-item"),r=document.querySelector(".portfolio-content"),o=document.querySelector(".portfolio-dots"),a=0;n.forEach((function(){var e=document.createElement("li");e.classList.add("dot"),o.append(e)})),(t=document.querySelectorAll(".dot"))[a].classList.add("dot-active");var i=function(e,t,n){e[t].classList.remove(n)},c=function(e,t,n){e[t].classList.add(n)},u=function(){i(n,a,"portfolio-item-active"),i(t,a,"dot-active"),++a>=n.length&&(a=0),c(n,a,"portfolio-item-active"),c(t,a,"dot-active")},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;e=setInterval(u,t)};r.addEventListener("click",(function(e){e.preventDefault();var r=e.target;r.matches(".portfolio-btn, .dot")&&(i(n,a,"portfolio-item-active"),i(t,a,"dot-active"),r.matches("#arrow-right")?a++:r.matches("#arrow-left")?a--:r.matches(".dot")&&t.forEach((function(e,t){e===r&&(a=t)})),a>=n.length&&(a=0),a<0&&(a=n.length-1),c(n,a,"portfolio-item-active"),c(t,a,"dot-active"))})),r.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(e)})),r.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&l()})),l(1500)}(),(l=document.querySelectorAll(".command__photo")).forEach((function(e){e.addEventListener("mouseover",(function(e){var t=e.target,n=[t.dataset.img,t.src];t.src=n[0],t.dataset.img=n[1]}))})),l.forEach((function(e){e.addEventListener("mouseout",(function(e){var t=e.target,n=[t.src,t.dataset.img];t.dataset.img=n[0],t.src=n[1]}))})),document.querySelector(".calc-block").addEventListener("input",(function(e){var t=e.target;t.matches('[type="text"]')&&(t.value=t.value.replace(/\D/g,""))})),i=document.querySelectorAll('[name="user_name"]'),c=document.querySelectorAll('[name="user_message"]'),u=function(e){var t=e.target;t.value=t.value.replace(/[^а-я-ё\-\s]/gi,"")},i.forEach((function(e){e.addEventListener("input",u),e.addEventListener("blur",(function(e){var t=e.target;t.value=t.value.replace(/ +/g," ").trim(),t.value=t.value.replace(/([А-ЯЁ])/g,(function(e){return e.toLowerCase()})),t.value=t.value.replace(/(( |^)[а-яё])(?=[а-яё])/g,(function(e){return e.toUpperCase()}))}))})),c.forEach((function(e){e.addEventListener("input",u),e.addEventListener("blur",(function(e){var t=e.target;t.value=t.value.replace(/^[ -]*|( |-)(?=\1)|[ -]*$/g,"").replace(/ +/g," ").trim()}))})),document.querySelectorAll('[name="user_email"]').forEach((function(e){e.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^a-z@\-_.!~*']/gi,"")})),e.addEventListener("keypress",(function(e){"Space"===e.code&&e.preventDefault()})),e.addEventListener("blur",(function(e){var t=e.target;t.value=t.value.replace(/^[ -]*|( |-)(?=\1)|[ -]*$/g,"").replace(/ +/g," ").trim()}))})),document.querySelectorAll('[name="user_phone"]').forEach((function(e){e.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^\-()\d]/g,"")}))})),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=document.querySelector(".calc-block"),r=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),a=document.querySelector(".calc-day"),i=document.querySelector(".calc-count"),c=document.getElementById("total"),u=function(){var n=0,u=1,l=1,s=r.options[r.selectedIndex].value,d=+o.value;i.value>1&&(u+=(i.value-1)/10),a.value&&a.value<5?l*=2:a.value&&a.value<10&&(l*=1.5),s&&d&&(n=t*s*d*u*l),e({duration:500,timing:function(e){return e},draw:function(e){c.textContent=Math.floor(e*n)}})};n.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&u()}))}(100),document.querySelectorAll("form").forEach((function(e){!function(e){var t=document.createElement("div");t.classList.add("thanks-message"),t.style.cssText="\n        font-size: 1.2rem;\n        color: #fff;\n    ";var n=function(e){e.nextElementSibling&&e.nextElementSibling.classList.contains("validator-error")&&e.nextElementSibling.remove(),e.style.border="none"},r=function(e){if(!e.nextElementSibling||!e.nextElementSibling.classList.contains("validator-error")){e.style.cssText="border: 1px solid tomato";var t=document.createElement("div");t.classList.add("validator-error"),"tel"===e.type?t.insertAdjacentHTML("afterbegin","Введите номер в формате <br> +7 (800) 900-77-66"):"email"===e.type&&t.insertAdjacentHTML("afterbegin","Введите email в формате <br> email@domain.ru"),t.style.cssText="\n                color: tomato;\n                font-size: 1.2rem;\n            ",e.insertAdjacentElement("afterend",t)}};e.addEventListener("submit",(function(o){var a=e.querySelector('[type="tel"]'),i=e.querySelector('[type="email"]'),c=/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{10}$/,u=/^\w+@\w+\.\w{2,}$/;o.preventDefault(),e.append(t);var l=new FormData(e),s={};l.forEach((function(e,t){s[t]=e})),c.test(a.value)?n(a):r(a),u.test(i.value)?n(i):r(i),c.test(a.value)&&u.test(i.value)&&(t.innerHTML='\n            <div class="container-box">\n                <div class="box"></div>\n                <div class="box"></div>\n                <div class="box"></div>\n                <div class="box"></div>\n                <div class="box"></div>\n            </div>\n            ',function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(s).then((function(n){if(200!==n.status)throw new Error("status network not 200");e.reset(),t.innerHTML="Спасибо! Мы скоро с Вами свяжемся"})).catch((function(e){t.innerHTML="Что то пошло не так...",console.error(e)})),setTimeout((function(){t.parentNode.removeChild(t)}),7e5))})),function(e){var t=e.querySelector('[type="tel"]'),n=e.querySelector('[type="email"]'),r=e.querySelector('[type="text"]'),o=e.querySelector('[placeholder="Ваше сообщение"]');t.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^+0-9]/g,"")})),n.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^@a-zA-Z0-9.-_]/g,"")})),r.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^а-яА-Я ]/g,"")})),o&&o.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^а-яА-Я ,.!]/g,"")}))}(e)}(e)})),a("input[type=tel]")})();